# 猫耳 FM 内嵌字幕录制提取 lrc

![example](https://github.com/user-attachments/assets/52feb177-e7cf-4b8f-b5bf-f044b94f7a70)

自动捕获猫耳 FM/missevan 播放器内嵌字幕并导出为 LRC 文件，支持监测播放快结束时自动暂停并触发下载，支持手动下载，清除字幕缓存。网址变化会自动清除已收集的字幕。

⚠️ 代码基本为 AI 编写，本人仅负责提出需求、调试测试，并不懂 js。所以如果遇到问题可能并不能为您提供解决办法。

## 必读

　　原理为提取 **.subtitle-container** 容器内的文字为字幕内容，提取播放时间为字幕时间戳。

　　用户需要让所有录制的字幕都出现一遍才能获取。

　　更推荐下载猫耳的弹幕 xml 文件，然后想办法提取底部弹幕做成字幕。

- 比如这位大佬的解决方案：🔗 [猫耳弹幕提取转 SRT - FreeStudio](https://fun.zhufree.fun/missevan-danmu-srt/)
- 又或者利用我的另一个脚本批量下载 xml 再处理。

## 脚本功能
- 自动捕获猫耳 FM/missevan 播放器内嵌字幕并导出为 LRC 文件

## 特性

- ❌ 仅内嵌字幕录制，没有音频资源，请支持正版。
- ❌ 不能无中生有。有内嵌字幕才能录制。
- ⚠️ 网址变化会自动清除已收集的字幕。

- ✅ 支持静音录制
- ✅ 脚本菜单栏实时显示当前捕捉的行数。
- ✅ 支持点击暂停时自动触发下载（有时会失效~）
- ✅ 支持监测播放快结束时自动暂停并触发下载
- ✅ 控制台打印捕捉内容方便观测（修改脚本关闭调试模式则不再输出捕捉的字幕内容）
- ✅ 自带字幕去重和按时间戳重排字幕。所以可以放心拖动进度条，只要需要的字幕全出现过就行。

![播放完自动暂停](https://github.com/user-attachments/assets/c203287e-d7cc-438e-b4da-1a0bbd853093)

## 使用流程

1. 安装脚本
2. 打开你需要录字幕的那一集，音频开始播放，脚本自动开始录制（可选：F12 打开控制台观察一下脚本是否正常运行）
3. 切到后台玩游戏或者刷别的，等音频播完，自动暂停并触发字幕文件下载。（或者手动点击脚本菜单中的下载）
4. 保存 lrc 字幕，大功告成。🎉🎉🎉

![LRC](https://github.com/user-attachments/assets/4f6fd610-719f-4c87-8636-5e359256261a)
